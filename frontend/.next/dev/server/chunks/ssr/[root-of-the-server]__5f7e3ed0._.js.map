{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebApps/ShortLinks/shortlinks/frontend/src/app/admin/links/%5Bcode%5D/page.tsx"],"sourcesContent":["'use-client'\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\ninterface ShortLink {\r\n  code: string;\r\n  url: string;\r\n  last_clicked: string;\r\n  clicks: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nconst LinkViewPage: React.FC = () => {\r\n  const [links, setLinks] = useState<ShortLink[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchLinks = async () => {\r\n      try {\r\n        const res = await fetch(\"http://localhost:3001/links\");\r\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n        const data: ShortLink[] = await res.json();\r\n        setLinks(data);\r\n      } catch (err: any) {\r\n        setError(err.message || \"Failed to fetch links\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLinks();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading links...</p>;\r\n  if (error) return <p style={{ color: \"red\" }}>Error: {error}</p>;\r\n\r\n  if (links.length === 0) return <p>No links found.</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"2rem\" }}>\r\n      <h1>All Short Links</h1>\r\n      <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Code</th>\r\n            <th>Original URL</th>\r\n            <th>Clicks</th>\r\n            <th>Last Clicked</th>\r\n            <th>Created At</th>\r\n            <th>Updated At</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {links.map((link, idx) => (\r\n            <tr key={link.code} style={{ borderBottom: \"1px solid #ccc\" }}>\r\n              <td>{idx + 1}</td>\r\n              <td>\r\n                <a\r\n                  href={`http://localhost:3001/${link.code}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n                  {link.code}\r\n                </a>\r\n              </td>\r\n              <td>\r\n                <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  {link.url}\r\n                </a>\r\n              </td>\r\n              <td>{link.clicks}</td>\r\n              <td>{link.last_clicked || \"Never\"}</td>\r\n              <td>{link.created_at}</td>\r\n              <td>{link.updated_at}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LinkViewPage;\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAYA,MAAM,eAAyB;IAC7B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAc,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM;gBACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;gBACjD,MAAM,OAAoB,MAAM,IAAI,IAAI;gBACxC,SAAS;YACX,EAAE,OAAO,KAAU;gBACjB,SAAS,IAAI,OAAO,IAAI;YAC1B,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,8OAAC;kBAAE;;;;;;IACvB,IAAI,OAAO,qBAAO,8OAAC;QAAE,OAAO;YAAE,OAAO;QAAM;;YAAG;YAAQ;;;;;;;IAEtD,IAAI,MAAM,MAAM,KAAK,GAAG,qBAAO,8OAAC;kBAAE;;;;;;IAElC,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;QAAO;;0BAC5B,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAM,OAAO;oBAAE,OAAO;oBAAQ,gBAAgB;gBAAW;;kCACxD,8OAAC;kCACC,cAAA,8OAAC;;8CACC,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,8OAAC;kCACE,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,8OAAC;gCAAmB,OAAO;oCAAE,cAAc;gCAAiB;;kDAC1D,8OAAC;kDAAI,MAAM;;;;;;kDACX,8OAAC;kDACC,cAAA,8OAAC;4CACC,MAAM,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE;4CAC1C,QAAO;4CACP,KAAI;sDAEH,KAAK,IAAI;;;;;;;;;;;kDAGd,8OAAC;kDACC,cAAA,8OAAC;4CAAE,MAAM,KAAK,GAAG;4CAAE,QAAO;4CAAS,KAAI;sDACpC,KAAK,GAAG;;;;;;;;;;;kDAGb,8OAAC;kDAAI,KAAK,MAAM;;;;;;kDAChB,8OAAC;kDAAI,KAAK,YAAY,IAAI;;;;;;kDAC1B,8OAAC;kDAAI,KAAK,UAAU;;;;;;kDACpB,8OAAC;kDAAI,KAAK,UAAU;;;;;;;+BAnBb,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;AA0B9B;uCAEe"}}]
}