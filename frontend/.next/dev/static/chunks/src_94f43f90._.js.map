{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebApps/ShortLinks/shortlinks/frontend/src/services/authServices.ts"],"sourcesContent":["// 'use server'\r\nimport pool from \"@/db/postgresdb\";\r\n\r\nimport { APIResponse, LoginRequestBody } from \"@/lib/types\";\r\nimport axios from 'axios'\r\n\r\n\r\n\r\n\r\nexport async function loginAdmin({ email, password }: LoginRequestBody): Promise<APIResponse> {\r\n\r\n  try {\r\n    const payload = { email, password };\r\n\r\n    const response = await axios.post(\"/api/auth/login\", payload, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return {\r\n      code: response.status,\r\n      message: response.data.message\r\n      \r\n    };\r\n  } catch (error: any) {\r\n    return {\r\n      code: error?.response?.status || 500,\r\n      message: error?.response?.data?.message || \"Invalid Credentials\"\r\n     \r\n    };\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,eAAe;;;;;AAIf;;AAKO,eAAe,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAoB;IAEpE,IAAI;QACF,MAAM,UAAU;YAAE;YAAO;QAAS;QAElC,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,mBAAmB,SAAS;YAC5D,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,OAAO;YACL,MAAM,SAAS,MAAM;YACrB,SAAS,SAAS,IAAI,CAAC,OAAO;QAEhC;IACF,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,MAAM,OAAO,UAAU,UAAU;YACjC,SAAS,OAAO,UAAU,MAAM,WAAW;QAE7C;IACF;AACF"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebApps/ShortLinks/shortlinks/frontend/src/app/login/page.tsx"],"sourcesContent":["'use client'\r\nimport { useState } from \"react\";\r\nimport { loginAdmin } from \"@/services/authServices\";\r\nimport { LoginRequestBody } from \"@/lib/types\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport default function Login() {\r\n    const [email, setEmail] = useState(\"admin@example.com\")\r\n    const [password, setPassword] = useState(\"password\")\r\n    const [error, setError] = useState(\"\")\r\n\r\n    const loginHandler = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        const response = await loginAdmin({email, password})\r\n        if(response.code === 200){\r\n         //   localStorage.setItem(\"login\", \"yes\")\r\n            redirect(\"admin/dashboard\")\r\n        }\r\n        else{\r\n            setError(response.message)\r\n        }\r\n    \r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <main className=\"min-h-screen flex items-center justify-center px-6 bg-gray-800\">\r\n            <div className=\"w-full max-w-md bg-slate-700 p-8 rounded-xl shadow-sm border\">\r\n\r\n                <h1 className=\"text-2xl font-bold text-center mb-6\">\r\n                    Login\r\n                </h1>\r\n\r\n                <form className=\"space-y-4\" onSubmit={loginHandler}>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm mb-1 font-medium\">Email</label>\r\n                        <input\r\n                            value={email}\r\n                            onChange={(e) => { \r\n                                setEmail(e.target.value) \r\n                                setError(\"\")\r\n                            }}\r\n                            type=\"email\"\r\n                            className=\"w-full px-4 py-2 border rounded-lg outline-none focus:ring focus:ring-gray-300\"\r\n                            placeholder=\"you@example.com\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm mb-1 font-medium\">Password</label>\r\n                        <input\r\n                            value={password}\r\n                            onChange={(e) => {\r\n                                 setPassword(e.target.value)\r\n                                   setError(\"\")\r\n                                 }}\r\n                            type=\"password\"\r\n                            className=\"w-full px-4 py-2 border rounded-lg outline-none focus:ring focus:ring-gray-300\"\r\n                            placeholder=\"********\"\r\n                        />\r\n                    </div>\r\n\r\n\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full py-2.5 bg-black text-white font-semibold rounded-lg hover:bg-gray-800 cursor-pointer\">\r\n                        Login\r\n                    </button>\r\n                </form>\r\n\r\n                <p className=\"text-center text-sm text-gray-200 mt-4\">\r\n                    Donâ€™t have an account?{\" \"}\r\n                    <a href=\"/register\" className=\"font-medium underline\">\r\n                        Create Account\r\n                    </a>\r\n                </p>\r\n\r\n                <div className=\"mt-3\">\r\n                    { error && (  <p className=\"text-center text-red-100\">{error}</p> )  }\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;AAJA;;;;AAMe,SAAS;;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,MAAM,WAAW,MAAM,IAAA,gJAAU,EAAC;YAAC;YAAO;QAAQ;QAClD,IAAG,SAAS,IAAI,KAAK,KAAI;YACxB,yCAAyC;YACtC,IAAA,iJAAQ,EAAC;QACb,OACI;YACA,SAAS,SAAS,OAAO;QAC7B;IAIJ;IAMA,qBACI,6LAAC;QAAK,WAAU;kBACZ,cAAA,6LAAC;YAAI,WAAU;;8BAEX,6LAAC;oBAAG,WAAU;8BAAsC;;;;;;8BAIpD,6LAAC;oBAAK,WAAU;oBAAY,UAAU;;sCAElC,6LAAC;;8CACG,6LAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,6LAAC;oCACG,OAAO;oCACP,UAAU,CAAC;wCACP,SAAS,EAAE,MAAM,CAAC,KAAK;wCACvB,SAAS;oCACb;oCACA,MAAK;oCACL,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAIpB,6LAAC;;8CACG,6LAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,6LAAC;oCACG,OAAO;oCACP,UAAU,CAAC;wCACN,YAAY,EAAE,MAAM,CAAC,KAAK;wCACxB,SAAS;oCACX;oCACL,MAAK;oCACL,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAMpB,6LAAC;4BACG,MAAK;4BACL,WAAU;sCAA8F;;;;;;;;;;;;8BAKhH,6LAAC;oBAAE,WAAU;;wBAAyC;wBAC3B;sCACvB,6LAAC;4BAAE,MAAK;4BAAY,WAAU;sCAAwB;;;;;;;;;;;;8BAK1D,6LAAC;oBAAI,WAAU;8BACT,uBAAY,6LAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;;;;;;AAK3E;GApFwB;KAAA"}}]
}