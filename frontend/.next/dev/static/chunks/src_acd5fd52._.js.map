{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebApps/ShortLinks/shortlinks/frontend/src/services/linkService.ts"],"sourcesContent":["// 'use server'\r\nimport pool from \"@/db/postgresdb\";\r\n\r\nimport { APIResponse, LoginRequestBody, NodeResponse } from \"@/lib/types\";\r\nimport axios from 'axios'\r\n\r\n\r\nexport async function createLink(code: string, url: string): Promise<NodeResponse> {\r\n\r\n  const payload = {\r\n    code: code,\r\n    url: url\r\n  }\r\n\r\n\r\n  try {\r\n    const response = await axios.post(`http://localhost:3001/links/`, payload, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return {\r\n      status: response.status.toString(),\r\n      data: response.data\r\n\r\n    };\r\n  } catch (error: any) {\r\n    return {\r\n      status: error || \"error\",\r\n      data: { data: \"error\" }\r\n\r\n    };\r\n  }\r\n\r\n}\r\n\r\n\r\nexport async function updateClick(code: string) {\r\n  const payload = {\r\n    code: code,\r\n  }\r\n  try {\r\n    const response = await axios.post(`http://localhost:3001/links/`, payload, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return ({ done: \"done\" })\r\n  } catch (error: any) {\r\n    return {\r\n      status: error || \"error\",\r\n      data: { data: \"error\" }\r\n\r\n    };\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport async function checkCodeAvailablity(code: string): Promise<NodeResponse> {\r\n\r\n  try {\r\n    const response = await axios.get(`http://localhost:3001/links/check/${code}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return {\r\n      status: response.status.toString(),\r\n      data: response.data\r\n\r\n    };\r\n  } catch (error: any) {\r\n    return {\r\n      status: error || \"error\",\r\n      data: { data: \"error\" }\r\n\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getAllLinks(): Promise<NodeResponse> {\r\n\r\n  try {\r\n    const response = await axios.get(`http://localhost:3001/links/`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    return {\r\n      status: response.status.toString(),\r\n      data: response.data\r\n\r\n    };\r\n  } catch (error: any) {\r\n    return {\r\n      status: error || \"error\",\r\n      data: { data: \"error\" }\r\n\r\n    };\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,eAAe;;;;;;;;;;;AAIf;;AAGO,eAAe,WAAW,IAAY,EAAE,GAAW;IAExD,MAAM,UAAU;QACd,MAAM;QACN,KAAK;IACP;IAGA,IAAI;QACF,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,CAAC,4BAA4B,CAAC,EAAE,SAAS;YACzE,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,OAAO;YACL,QAAQ,SAAS,MAAM,CAAC,QAAQ;YAChC,MAAM,SAAS,IAAI;QAErB;IACF,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,QAAQ,SAAS;YACjB,MAAM;gBAAE,MAAM;YAAQ;QAExB;IACF;AAEF;AAGO,eAAe,YAAY,IAAY;IAC5C,MAAM,UAAU;QACd,MAAM;IACR;IACA,IAAI;QACF,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,CAAC,4BAA4B,CAAC,EAAE,SAAS;YACzE,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,OAAQ;YAAE,MAAM;QAAO;IACzB,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,QAAQ,SAAS;YACjB,MAAM;gBAAE,MAAM;YAAQ;QAExB;IACF;AACF;AAMO,eAAe,qBAAqB,IAAY;IAErD,IAAI;QACF,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,CAAC,kCAAkC,EAAE,MAAM,EAAE;YAC5E,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,OAAO;YACL,QAAQ,SAAS,MAAM,CAAC,QAAQ;YAChC,MAAM,SAAS,IAAI;QAErB;IACF,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,QAAQ,SAAS;YACjB,MAAM;gBAAE,MAAM;YAAQ;QAExB;IACF;AACF;AAEO,eAAe;IAEpB,IAAI;QACF,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC,CAAC,4BAA4B,CAAC,EAAE;YAC/D,SAAS;gBACP,gBAAgB;YAClB;QACF;QAEA,OAAO;YACL,QAAQ,SAAS,MAAM,CAAC,QAAQ;YAChC,MAAM,SAAS,IAAI;QAErB;IACF,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,QAAQ,SAAS;YACjB,MAAM;gBAAE,MAAM;YAAQ;QAExB;IACF;AACF"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///E:/WebApps/ShortLinks/shortlinks/frontend/src/app/go/%5Bcode%5D/page.tsx"],"sourcesContent":["'use client'\r\nimport { updateClick } from \"@/services/linkService\";\r\nimport { redirect, useParams } from \"next/navigation\";\r\n\r\n\r\n\r\n// Dummy function â€” replace with your DB/API\r\nasync function getDestination(shortCode: string): Promise<string | null> {\r\n    const links: Record<string, string> = {\r\n        \"abc123\": \"https://google.com\",\r\n        \"yt456\": \"https://youtube.com\",\r\n    };\r\n    return links[shortCode] || null;\r\n}\r\n\r\nexport default async function ShortLinkPage() {\r\n\r\n\r\n    const params = useParams<{ tag: string; code: string }>()\r\n    const code = params?.code;\r\n    console.log(\"Shortcode --\", code)\r\n    updateClick(code)\r\n    if (!code) {\r\n        return <p className=\"text-red-600 mt-20 text-center\">Invalid link</p>;\r\n    }\r\n\r\n    const destination = await getDestination(code);\r\n\r\n    if (!destination) {\r\n        return <p className=\"text-red-600 mt-20 text-center\">Link not found</p>;\r\n    }\r\n\r\n    redirect(destination);\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAMA,4CAA4C;AAC5C,eAAe,eAAe,SAAiB;IAC3C,MAAM,QAAgC;QAClC,UAAU;QACV,SAAS;IACb;IACA,OAAO,KAAK,CAAC,UAAU,IAAI;AAC/B;AAEe,eAAe;;IAG1B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,OAAO,QAAQ;IACrB,QAAQ,GAAG,CAAC,gBAAgB;IAC5B,IAAA,gJAAW,EAAC;IACZ,IAAI,CAAC,MAAM;QACP,qBAAO,6LAAC;YAAE,WAAU;sBAAiC;;;;;;IACzD;IAEA,MAAM,cAAc,MAAM,eAAe;IAEzC,IAAI,CAAC,aAAa;QACd,qBAAO,6LAAC;YAAE,WAAU;sBAAiC;;;;;;IACzD;IAEA,IAAA,iJAAQ,EAAC;AACb;GAlB8B;;QAGX,kJAAS;;;KAHE"}}]
}